{"version":3,"sources":["reports.js","users.js","authProvider.js","Dashboard.js","dataProvider.js","App.js","index.js"],"names":["ReportList","props","dataProvider","useDataProvider","useState","reports","setReports","loading","setLoading","error","setError","modalOpen","setModalOpen","toDelete","setToDelete","useEffect","getReports","then","data","catch","e","Loading","Error","Container","className","Button","onClick","history","push","Table","striped","hover","style","fontSize","scope","map","report","k","key","color","cursor","slice","ph","hardness","tds","signed","size","Modal","isOpen","toggle","ModalHeader","ModalBody","ModalFooter","a","async","removeReport","res","NewReport","setReport","Form","tag","FormGroup","Row","Col","sm","xs","Label","for","Input","type","name","id","placeholder","onChange","target","value","checked","newReport","EditReport","getReport","match","params","console","log","updateReport","UserList","users","setUsers","getUsers","user","sender","UserCreate","setName","createUser","AUTH_LOGIN","username","localStorage","setItem","Promise","resolve","AUTH_LOGOUT","removeItem","AUTH_ERROR","status","reject","AUTH_CHECK","getItem","account","contract","balance","setBalance","amountDeposit","setAmountDeposit","delay","setDelay","fee","setFee","admin","setAdmin","unit","setUnit","methods","call","window","web3","utils","fromWei","delayFee","currentFee","maxDelay","currentDelay","currentAdmin","getData","Card","CardHeader","title","CardContent","newDelay","updateMaxDealy","send","from","ethereum","selectedAddress","updateFee","changeAdmin","deposit","toWei","String","contractAddress","contractAbi","networks","address","Web3","currentProvider","eth","Contract","abi","getReportCount","count","i","getReportAtIndex","remReport","getPastEvents","fromBlock","r","returnValues","App","state","setup","enable","on","accounts","length","setState","isLoggedOut","this","Admin","dashboard","Dashboard","authProvider","Resource","list","create","edit","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.445019ea.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport {\r\n  Button,\r\n  Container,\r\n  Table,\r\n  Form,\r\n  FormGroup,\r\n  Row,\r\n  Col,\r\n  Label,\r\n  Input,\r\n  Modal,\r\n  ModalBody,\r\n  ModalHeader,\r\n  ModalFooter\r\n} from \"reactstrap\";\r\n\r\nimport { useDataProvider, Loading, Error } from \"react-admin\";\r\n\r\nexport const ReportList = props => {\r\n  const dataProvider = useDataProvider();\r\n  const [reports, setReports] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState();\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [toDelete, setToDelete] = useState(false);\r\n\r\n  useEffect(() => {\r\n    dataProvider\r\n      .getReports()\r\n      .then(({ data }) => {\r\n        setReports(data);\r\n      })\r\n      .catch(e => setError(e));\r\n    setLoading(false);\r\n  }, [dataProvider]);\r\n\r\n  const onDelete = async () => {\r\n    setLoading(true);\r\n    setModalOpen(false);\r\n    if (toDelete) {\r\n      dataProvider\r\n        .removeReport(toDelete)\r\n        .then(res => {\r\n          setLoading(false);\r\n        })\r\n        .catch(e => {\r\n          setError(e);\r\n          setLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  if (loading) return <Loading />;\r\n  if (error) return <Error />;\r\n  if (!reports) return null;\r\n  return (\r\n    <Container className=\"mt-4\">\r\n      <Button\r\n        className=\"mb-2 float-right\"\r\n        onClick={() => props.history.push(\"/reports/create\")}\r\n      >\r\n        New\r\n      </Button>\r\n      <Table striped hover style={{ fontSize: \"14px\" }}>\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Key</th>\r\n            <th scope=\"col\">pH</th>\r\n            <th scope=\"col\">Hardness</th>\r\n            <th scope=\"col\">TDS</th>\r\n            <th scope=\"col\">Signed</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {reports.map((report, k) => {\r\n            return (\r\n              <tr key={k}>\r\n                <td\r\n                  style={{ color: \"blue\", cursor: \"pointer\" }}\r\n                  onClick={() => props.history.push(`/reports/${report.key}`)}\r\n                >\r\n                  <u>{report.key.slice(0, 8)}</u>\r\n                </td>\r\n                <td>{report.ph}</td>\r\n                <td>{report.hardness}</td>\r\n                <td>{report.tds}</td>\r\n                <td>{report.signed ? \"true\" : \"false\"}</td>\r\n                <td>\r\n                  <Button\r\n                    color=\"danger\"\r\n                    size=\"sm\"\r\n                    onClick={() => {\r\n                      setToDelete(report.key);\r\n                      setModalOpen(true);\r\n                    }}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n      {modalOpen && (\r\n        <Modal isOpen={modalOpen} toggle={() => setModalOpen(!modalOpen)}>\r\n          <ModalHeader toggle={() => setModalOpen(!modalOpen)}>\r\n            Confirmation\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <p>Are you sure you want to delete this report?</p>\r\n            <ModalFooter className=\"text-center\">\r\n              <Button color=\"primary\" onClick={() => onDelete()}>\r\n                YES\r\n              </Button>{\" \"}\r\n              <Button color=\"secondary\" onClick={() => setModalOpen(false)}>\r\n                NO\r\n              </Button>\r\n            </ModalFooter>\r\n          </ModalBody>\r\n        </Modal>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport const NewReport = props => {\r\n  const dataProvider = useDataProvider();\r\n  const [report, setReport] = useState({ signed: false });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  const onCreate = async () => {\r\n    setLoading(true);\r\n    if (report) {\r\n      dataProvider\r\n        .newReport(report)\r\n        .then(res => {\r\n          props.history.push(\"/reports\");\r\n        })\r\n        .catch(e => setError(e));\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <Loading />;\r\n  if (error) return <h1>Error</h1>;\r\n\r\n  return (\r\n    <Container>\r\n      <Form className=\"m-3\" tag=\"h5\">\r\n        <FormGroup>\r\n          <Row className=\"align-items-center\">\r\n            <Col sm={3} xs={3}>\r\n              <Label for=\"ph\">pH</Label>\r\n            </Col>\r\n            <Col sm={6} xs={8}>\r\n              <Input\r\n                type=\"number\"\r\n                name=\"ph\"\r\n                id=\"ph\"\r\n                placeholder=\"pH\"\r\n                onChange={e => setReport({ ...report, ph: e.target.value })}\r\n                value={report.ph || \"\"}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"align-items-center\">\r\n            <Col sm={3} xs={3}>\r\n              <Label for=\"hardness\">Hardness</Label>\r\n            </Col>\r\n            <Col sm={6} xs={8}>\r\n              <Input\r\n                type=\"number\"\r\n                name=\"hardness\"\r\n                id=\"hardness\"\r\n                placeholder=\"hardness\"\r\n                onChange={e =>\r\n                  setReport({ ...report, hardness: e.target.value })\r\n                }\r\n                value={report.hardness || \"\"}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"align-items-center\">\r\n            <Col sm={3} xs={3}>\r\n              <Label for=\"tds\">TDS</Label>\r\n            </Col>\r\n            <Col sm={6} xs={8}>\r\n              <Input\r\n                type=\"number\"\r\n                name=\"tds\"\r\n                id=\"tds\"\r\n                placeholder=\"tds\"\r\n                onChange={e => setReport({ ...report, tds: e.target.value })}\r\n                value={report.tds || \"\"}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"mt-2\">\r\n            <Col sm={3} xs={3}>\r\n              <Label for=\"signed\">Signed</Label>\r\n            </Col>\r\n            <Col sm={6} xs={8}>\r\n              <Input\r\n                className=\"ml-2\"\r\n                type=\"checkbox\"\r\n                name=\"signed\"\r\n                id=\"signed\"\r\n                checked={report.signed}\r\n                onChange={e =>\r\n                  setReport({ ...report, signed: e.target.checked })\r\n                }\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <br />\r\n          <Button color=\"primary\" onClick={onCreate}>\r\n            Create Report\r\n          </Button>\r\n        </FormGroup>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport const EditReport = props => {\r\n  const dataProvider = useDataProvider();\r\n  const [report, setReport] = useState({ signed: false });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState();\r\n\r\n  useEffect(() => {\r\n    dataProvider\r\n      .getReport(props.match.params.id)\r\n      .then(({ data }) => {\r\n        data.key = props.match.params.id;\r\n        setReport(data);\r\n        setLoading(false);\r\n      })\r\n      .catch(e => setError(e));\r\n  }, [dataProvider, props.match.params.id]);\r\n\r\n  const onEdit = async () => {\r\n    setLoading(true);\r\n\r\n    if (report) {\r\n      console.log(report);\r\n      dataProvider\r\n        .updateReport(report)\r\n        .then(res => {\r\n          props.history.push(\"/reports\");\r\n        })\r\n        .catch(e => setError(e));\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (error) return <h1>Error</h1>;\r\n  if (loading) return <Loading />;\r\n\r\n  return (\r\n    <Container>\r\n      <Form className=\"m-3\" tag=\"h5\">\r\n        <FormGroup>\r\n          <Row className=\"align-items-center\">\r\n            <Col sm={3} xs={3}>\r\n              <Label for=\"ph\">pH</Label>\r\n            </Col>\r\n            <Col sm={6} xs={8}>\r\n              <Input\r\n                type=\"number\"\r\n                name=\"ph\"\r\n                id=\"ph\"\r\n                placeholder=\"pH\"\r\n                onChange={e => setReport({ ...report, ph: e.target.value })}\r\n                value={report.ph || \"\"}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"align-items-center\">\r\n            <Col sm={3} xs={3}>\r\n              <Label for=\"hardness\">Hardness</Label>\r\n            </Col>\r\n            <Col sm={6} xs={8}>\r\n              <Input\r\n                type=\"number\"\r\n                name=\"hardness\"\r\n                id=\"hardness\"\r\n                placeholder=\"hardness\"\r\n                onChange={e =>\r\n                  setReport({ ...report, hardness: e.target.value })\r\n                }\r\n                value={report.hardness || \"\"}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"align-items-center\">\r\n            <Col sm={3} xs={3}>\r\n              <Label for=\"tds\">TDS</Label>\r\n            </Col>\r\n            <Col sm={6} xs={8}>\r\n              <Input\r\n                type=\"number\"\r\n                name=\"tds\"\r\n                id=\"tds\"\r\n                placeholder=\"tds\"\r\n                onChange={e => setReport({ ...report, tds: e.target.value })}\r\n                value={report.tds || \"\"}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"mt-2\">\r\n            <Col sm={3} xs={3}>\r\n              <Label for=\"signed\">Signed</Label>\r\n            </Col>\r\n            <Col sm={6} xs={8}>\r\n              <Input\r\n                className=\"ml-2\"\r\n                type=\"checkbox\"\r\n                name=\"signed\"\r\n                id=\"signed\"\r\n                checked={report.signed}\r\n                onChange={e =>\r\n                  setReport({ ...report, signed: e.target.checked })\r\n                }\r\n              />\r\n            </Col>\r\n          </Row>\r\n\r\n          <br />\r\n          <Button color=\"primary\" onClick={onEdit}>\r\n            Update Report\r\n          </Button>\r\n        </FormGroup>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport {\r\n  Button,\r\n  Container,\r\n  Table,\r\n  Form,\r\n  FormGroup,\r\n  Row,\r\n  Col,\r\n  Label,\r\n  Input\r\n} from \"reactstrap\";\r\n\r\nimport { useDataProvider, Loading } from \"react-admin\";\r\n\r\nexport const UserList = props => {\r\n  const dataProvider = useDataProvider();\r\n  const [users, setUsers] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState();\r\n\r\n  useEffect(() => {\r\n    dataProvider\r\n      .getUsers()\r\n      .then(({ data }) => {\r\n        setUsers(data);\r\n      })\r\n      .catch(e => setError(e));\r\n    setLoading(false);\r\n  }, [dataProvider]);\r\n\r\n  if (loading) return <Loading />;\r\n  if (error) return <h1>Error</h1>;\r\n  if (!users) return null;\r\n  return (\r\n    <Container className=\"mt-4\">\r\n      <Button\r\n        className=\"mb-2 float-right\"\r\n        onClick={() => props.history.push(\"/users/create\")}\r\n      >\r\n        New\r\n      </Button>\r\n      <Table striped hover style={{ fontSize: \"14px\" }}>\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">account</th>\r\n            <th scope=\"col\" className=\"text-center\">\r\n              name\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map((user, k) => {\r\n            return (\r\n              <tr key={k}>\r\n                <td>{user.sender}</td>\r\n                <td className=\"text-center\">{user.name}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </Table>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport const UserCreate = props => {\r\n  const dataProvider = useDataProvider();\r\n  const [name, setName] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  const onCreate = async () => {\r\n    setLoading(true);\r\n    if (name) {\r\n      dataProvider\r\n        .createUser(name)\r\n        .then(res => {\r\n          props.history.push(\"/users\");\r\n        })\r\n        .catch(e => setError(e));\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <Loading />;\r\n  if (error) return <h1>Error</h1>;\r\n\r\n  return (\r\n    <Container>\r\n      <Form className=\"m-3\" tag=\"h5\">\r\n        <FormGroup>\r\n          <Row className=\"align-items-center\">\r\n            <Col sm={3} xs={3}>\r\n              <Label for=\"name\">Name</Label>\r\n            </Col>\r\n            <Col sm={6} xs={8}>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                id=\"name\"\r\n                placeholder=\"User Name\"\r\n                onChange={e => setName(e.target.value)}\r\n                value={name}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <br />\r\n          <Button color=\"primary\" onClick={onCreate}>\r\n            Create User\r\n          </Button>\r\n        </FormGroup>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n","import { AUTH_LOGIN, AUTH_LOGOUT, AUTH_ERROR, AUTH_CHECK } from 'react-admin';\r\n\r\nexport default (type, params) => {\r\n    // called when the user attempts to log in\r\n    if (type === AUTH_LOGIN) {\r\n        const { username } = params;\r\n        localStorage.setItem('username', username);\r\n        // accept all username/password combinations\r\n        return Promise.resolve();\r\n    }\r\n    // called when the user clicks on the logout button\r\n    if (type === AUTH_LOGOUT) {\r\n        localStorage.removeItem('username');\r\n        return Promise.resolve();\r\n    }\r\n    // called when the API returns an error\r\n    if (type === AUTH_ERROR) {\r\n        const { status } = params;\r\n        if (status === 401 || status === 403) {\r\n            localStorage.removeItem('username');\r\n            return Promise.reject();\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n    // called when the user navigates to a new location\r\n    if (type === AUTH_CHECK) {\r\n        return localStorage.getItem('username')\r\n            ? Promise.resolve()\r\n            : Promise.reject();\r\n    }\r\n    return Promise.reject('Unknown method');\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport { Loading, Error } from \"react-admin\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col,\r\n  Label,\r\n  Input,\r\n  Container,\r\n  Form,\r\n  FormGroup\r\n} from \"reactstrap\";\r\n\r\nexport default ({ account, contract }) => {\r\n  const [balance, setBalance] = useState(0);\r\n  const [amountDeposit, setAmountDeposit] = useState(\"\");\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [delay, setDelay] = useState(0);\r\n  const [fee, setFee] = useState(0);\r\n  const [admin, setAdmin] = useState(\"\");\r\n  const [unit, setUnit] = useState(\"Seconds\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      try {\r\n        const user = await contract.methods.users(account).call();\r\n        setBalance(window.web3.utils.fromWei(user.balance));\r\n\r\n        const currentFee = await contract.methods.delayFee().call();\r\n        setFee(window.web3.utils.fromWei(currentFee));\r\n\r\n        const currentDelay = await contract.methods.maxDelay().call();\r\n        setDelay(currentDelay);\r\n\r\n        const currentAdmin = await contract.methods.admin().call();\r\n        setAdmin(currentAdmin);\r\n      } catch (e) {\r\n        console.log(e);\r\n        setError(e);\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n    if (contract) {\r\n      getData();\r\n    }\r\n  }, [contract, account, modalOpen]);\r\n\r\n  const handleSettings = async () => {\r\n    let newDelay;\r\n    setLoading(true);\r\n\r\n    switch (unit) {\r\n      case \"Days\":\r\n        newDelay = delay * 24 * 60 * 60;\r\n        break;\r\n      case \"Hours\":\r\n        newDelay = delay * 60 * 60;\r\n        break;\r\n\r\n      case \"Minutes\":\r\n        newDelay = delay * 60;\r\n        break;\r\n      case \"Seconds\":\r\n        newDelay = delay;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    await contract.methods\r\n      .updateMaxDealy(newDelay)\r\n      .send({ from: window.ethereum.selectedAddress });\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleFee = async () => {\r\n    setLoading(true);\r\n    await contract.methods\r\n      .updateFee(fee)\r\n      .send({ from: window.ethereum.selectedAddress });\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleAdmin = async () => {\r\n    setLoading(true);\r\n    await contract.methods\r\n      .changeAdmin(admin)\r\n      .send({ from: window.ethereum.selectedAddress });\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  const deposit = async () => {\r\n    setLoading(true);\r\n    contract.methods\r\n      .deposit()\r\n      .send({\r\n        from: account,\r\n        value: window.web3.utils.toWei(String(amountDeposit))\r\n      })\r\n      .then(res => {\r\n        console.log(res);\r\n        setLoading(false);\r\n        setModalOpen(false);\r\n      })\r\n      .catch(e => {\r\n        setLoading(false);\r\n        console.log(e);\r\n        setError(e);\r\n      });\r\n  };\r\n\r\n  if (loading) return <Loading />;\r\n  // if (error) return <h2 className=\"p-5\"> Something Went Wrong...</h2>;\r\n  if (error) return <Error />;\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardHeader title=\"Welcome to the administration\" />\r\n        <CardContent>\r\n          <h3 className=\"mb-3\">Balance: {balance} ETH</h3>\r\n          <Button onClick={() => setModalOpen(true)}>Deposit</Button>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"mt-3\">\r\n        <CardHeader title=\"Max Delay\" />\r\n        <CardContent>\r\n          <Container>\r\n            <Form className=\"m-3\" tag=\"h5\">\r\n              <FormGroup>\r\n                <Row className=\"align-items-center\">\r\n                  <Col sm={3} xs={3}>\r\n                    <Label for=\"time_unit\">Time Unit</Label>\r\n                  </Col>\r\n                  <Col sm={6} xs={8}>\r\n                    <Input\r\n                      type=\"select\"\r\n                      name=\"time_unit\"\r\n                      id=\"time_unit\"\r\n                      value={unit}\r\n                      onChange={e => setUnit(e.target.value)}\r\n                    >\r\n                      <option>Seconds</option>\r\n                      <option>Minutes</option>\r\n                      <option>Hours</option>\r\n                      <option>Days</option>\r\n                    </Input>\r\n                  </Col>\r\n                </Row>\r\n                <Row className=\"align-items-center\">\r\n                  <Col sm={3} xs={3}>\r\n                    <Label for=\"time_value\">Value</Label>\r\n                  </Col>\r\n                  <Col sm={6} xs={8}>\r\n                    <Input\r\n                      type=\"number\"\r\n                      name=\"time_value\"\r\n                      id=\"time_value\"\r\n                      placeholder=\"Enter Value according to unit\"\r\n                      onChange={e => setDelay(e.target.value)}\r\n                      value={delay}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n\r\n                <br />\r\n                <Button color=\"primary\" onClick={handleSettings}>\r\n                  Update\r\n                </Button>\r\n              </FormGroup>\r\n            </Form>\r\n          </Container>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"mt-3\">\r\n        <CardHeader title=\"Delay Fee\" />\r\n        <CardContent>\r\n          <Container>\r\n            <Form className=\"m-3\" tag=\"h5\">\r\n              <FormGroup>\r\n                <Row className=\"align-items-center\">\r\n                  <Col sm={3} xs={3}>\r\n                    <Label for=\"fee\">Fee (ether)</Label>\r\n                  </Col>\r\n                  <Col sm={6} xs={8}>\r\n                    <Input\r\n                      type=\"number\"\r\n                      name=\"fee\"\r\n                      id=\"fee\"\r\n                      placeholder=\"Enter Delay Fee amount in Ether\"\r\n                      onChange={e => setFee(e.target.value)}\r\n                      value={fee}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n\r\n                <br />\r\n                <Button color=\"primary\" onClick={handleFee}>\r\n                  Update\r\n                </Button>\r\n              </FormGroup>\r\n            </Form>\r\n          </Container>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"mt-3\">\r\n        <CardHeader title=\"Contract Admin\" />\r\n        <CardContent>\r\n          <Container>\r\n            <Form className=\"m-3\" tag=\"h5\">\r\n              <FormGroup>\r\n                <Row className=\"align-items-center\">\r\n                  <Col sm={3} xs={3}>\r\n                    <Label for=\"admin\">Admin</Label>\r\n                  </Col>\r\n                  <Col sm={6} xs={8}>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"admin\"\r\n                      id=\"admin\"\r\n                      placeholder=\"Enter new contract admin address\"\r\n                      onChange={e => setAdmin(e.target.value)}\r\n                      value={admin}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n\r\n                <br />\r\n                <Button color=\"primary\" onClick={handleAdmin}>\r\n                  Update\r\n                </Button>\r\n              </FormGroup>\r\n            </Form>\r\n          </Container>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {modalOpen && (\r\n        <Modal isOpen={modalOpen} toggle={() => setModalOpen(!modalOpen)}>\r\n          <ModalHeader toggle={() => setModalOpen(!modalOpen)}>\r\n            Amount to Deposit\r\n          </ModalHeader>\r\n          <ModalBody>\r\n            <Row className=\"align-items-center\">\r\n              <Col sm={3} xs={3}>\r\n                <Label for=\"hardness\">Amount</Label>\r\n              </Col>\r\n              <Col sm={6} xs={8}>\r\n                <Input\r\n                  type=\"number\"\r\n                  name=\"deposit\"\r\n                  id=\"deposit\"\r\n                  placeholder=\"Enter deposit in Ether\"\r\n                  onChange={e => setAmountDeposit(e.target.value)}\r\n                  value={amountDeposit}\r\n                />\r\n              </Col>\r\n            </Row>\r\n            <ModalFooter className=\"text-center\">\r\n              <Button color=\"primary\" onClick={() => deposit()}>\r\n                OK\r\n              </Button>{\" \"}\r\n              <Button color=\"secondary\" onClick={() => setModalOpen(false)}>\r\n                CANCEL\r\n              </Button>\r\n            </ModalFooter>\r\n          </ModalBody>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import contractAbi from \"./contracts/Report.json\";\r\n\r\n// Please choose network\r\nconst contractAddress = contractAbi.networks[\"999\"].address; // Ganache\r\n// const contractAddress = contractAbi.networks[\"4\"].address; // Rinkeby\r\n\r\nconst Web3 = window.Web3;\r\nconst web3 = new Web3(window.web3.currentProvider);\r\nconst contract = new web3.eth.Contract(contractAbi.abi, contractAddress);\r\n\r\nexport default {\r\n  contractAddress,\r\n  // REPORTS\r\n  getReports: async () => {\r\n    // const res = await contract.getPastEvents(\"LogNewReport\", { fromBlock: 0 });\r\n    // const reports = res.map(r => r.returnValues);\r\n    // return new Promise((resolve, reject) => {\r\n    //   resolve({\r\n    //     data: reports\r\n    //   });\r\n    // });\r\n    const count = await contract.methods.getReportCount().call();\r\n    let reports = [];\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      const key = await contract.methods.getReportAtIndex(i).call();\r\n      const report = await contract.methods.reports(key).call();\r\n      report.key = key;\r\n      reports.push(report);\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      resolve({\r\n        data: reports\r\n      });\r\n    });\r\n  },\r\n  getReport: async key => {\r\n    return new Promise((resolve, reject) => {\r\n      contract.methods\r\n        .getReport(key)\r\n        .call()\r\n        .then(report =>\r\n          resolve({\r\n            data: report\r\n          })\r\n        )\r\n        .catch(e => reject(e));\r\n    });\r\n  },\r\n\r\n  newReport: async ({ ph, hardness, signed, tds }) => {\r\n    return new Promise((resolve, reject) => {\r\n      contract.methods\r\n        .newReport(signed, ph, hardness, tds)\r\n        .send({ from: window.ethereum.selectedAddress })\r\n        .then(() =>\r\n          resolve({\r\n            data: true\r\n          })\r\n        )\r\n        .catch(e => reject(e));\r\n    });\r\n  },\r\n  updateReport: async ({ key, ph, hardness, signed, tds }) => {\r\n    return new Promise((resolve, reject) => {\r\n      contract.methods\r\n        .updateReport(key, signed, ph, hardness, tds)\r\n        .send({ from: window.ethereum.selectedAddress })\r\n        .then(() =>\r\n          resolve({\r\n            data: true\r\n          })\r\n        )\r\n        .catch(e => reject(e));\r\n    });\r\n  },\r\n  removeReport: async key => {\r\n    return new Promise((resolve, reject) => {\r\n      contract.methods\r\n        .remReport(key)\r\n        .send({ from: window.ethereum.selectedAddress })\r\n        .then(() =>\r\n          resolve({\r\n            data: true\r\n          })\r\n        )\r\n        .catch(e => reject(e));\r\n    });\r\n  },\r\n\r\n  // USERS\r\n  getUsers: async () => {\r\n    const res = await contract.getPastEvents(\"NewUser\", { fromBlock: 0 });\r\n    const users = res.map(r => r.returnValues);\r\n    return new Promise((resolve, reject) => {\r\n      resolve({\r\n        data: users\r\n      });\r\n    });\r\n  },\r\n  createUser: async name => {\r\n    return new Promise((resolve, reject) => {\r\n      contract.methods\r\n        .createUser(name)\r\n        .send({ from: window.ethereum.selectedAddress })\r\n        .then(() =>\r\n          resolve({\r\n            data: null\r\n          })\r\n        )\r\n        .catch(e => reject(e));\r\n    });\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Admin, Resource } from \"react-admin\";\r\n\r\nimport { ReportList, NewReport, EditReport } from \"./reports\";\r\nimport { UserList, UserCreate } from \"./users\";\r\n\r\nimport authProvider from \"./authProvider\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport dataProvider from \"./dataProvider\";\r\n\r\nimport contractAbi from \"./contracts/Report.json\";\r\nconst contractAddress = dataProvider.contractAddress;\r\nconst Web3 = window.Web3;\r\n\r\nclass App extends Component {\r\n  state = { account: null, contract: null };\r\n\r\n  componentDidMount() {\r\n    this.setup();\r\n  }\r\n\r\n  // Web3 Setup\r\n  setup = async () => {\r\n    // Modern dapp browsers...\r\n    if (window.ethereum) {\r\n      console.log(\"Using Ethereum enabled browser\");\r\n      window.web3 = new Web3(window.ethereum);\r\n\r\n      try {\r\n        await window.ethereum.enable();\r\n\r\n        //If accounts change\r\n        window.ethereum.on(\"accountsChanged\", accounts => {\r\n          if (accounts.length > 0) {\r\n            this.setState({\r\n              account: accounts[0],\r\n              isLoggedOut: false\r\n            });\r\n          } else {\r\n            this.setState({ account: null });\r\n          }\r\n        });\r\n\r\n        const web3 = new Web3(window.web3.currentProvider);\r\n        const contract = new web3.eth.Contract(\r\n          contractAbi.abi,\r\n          contractAddress\r\n        );\r\n\r\n        window.contract = contract;\r\n\r\n        this.setState({\r\n          account: window.ethereum.selectedAddress,\r\n          contract\r\n        });\r\n\r\n        // // Test fetch user\r\n        // const response = await contract.methods\r\n        //   .users(this.state.account)\r\n        //   .call();\r\n        // console.log(response);\r\n\r\n        // // Test fetch reports\r\n        // this.getReports();\r\n      } catch (error) {\r\n        console.log(error);\r\n        console.error(\"You must approve this dApp to interact with it\");\r\n      }\r\n    }\r\n\r\n    // Non-dapp browsers...\r\n    else {\r\n      console.log(\r\n        \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Admin\r\n        dashboard={() => (\r\n          <Dashboard\r\n            account={this.state.account}\r\n            contract={this.state.contract}\r\n          />\r\n        )}\r\n        authProvider={authProvider}\r\n        dataProvider={dataProvider}\r\n      >\r\n        <Resource\r\n          name=\"reports\"\r\n          list={ReportList}\r\n          create={NewReport}\r\n          edit={EditReport}\r\n        />\r\n        <Resource name=\"users\" list={UserList} create={UserCreate} />\r\n      </Admin>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}